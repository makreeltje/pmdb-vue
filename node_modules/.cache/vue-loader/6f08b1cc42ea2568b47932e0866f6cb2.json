{"remainingRequest":"D:\\Git\\pmdb-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Git\\pmdb-vue\\src\\components\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Git\\pmdb-vue\\src\\components\\Register.vue","mtime":1587364124066},{"path":"D:\\Git\\pmdb-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Git\\pmdb-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Git\\pmdb-vue\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"D:\\Git\\pmdb-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Git\\pmdb-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBVc2VyIGZyb20gIi4uL21vZGVscy91c2VyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVnaXN0ZXIiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiBuZXcgVXNlcigiIiwgIiIsICIiKSwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgc3VjY2Vzc2Z1bDogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcmVxdWlyZWQ6IHYgPT4gISF2IHx8ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkJywKICAgICAgICBtaW4zOiB2ID0+IHYubGVuZ3RoID49IDMgfHwgJ01pbiAzIGNoYXJhY3RlcnMnLAogICAgICAgIG1pbjY6IHYgPT4gdi5sZW5ndGggPj0gNiB8fCAnTWluIDYgY2hhcmFjdGVycycsCiAgICAgICAgdmFsaWRFbWFpbDogdiA9PiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICdFLW1haWwgbXVzdCBiZSB2YWxpZCcsCiAgICAgICAgY29uZmlybVBhc3N3b3JkOiB2ID0+IHYgPT0gdGhpcy51c2VyLnBhc3N3b3JkIHx8ICdQYXNzd29yZHMgbXVzdCBtYXRjaCcKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBsb2dnZWRJbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLmxvZ2dlZEluKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcHJvZmlsZSIpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlUmVnaXN0ZXIoKSB7CiAgICAgIHRoaXMubWVzc2FnZSA9ICIiOwogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgIHRoaXMuJHZhbGlkYXRvci52YWxpZGF0ZSgpLnRoZW4oaXNWYWxpZCA9PiB7CiAgICAgICAgaWYgKGlzVmFsaWQpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL3JlZ2lzdGVyIiwgdGhpcy51c2VyKS50aGVuKAogICAgICAgICAgICBkYXRhID0+IHsKICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBkYXRhLm1lc3NhZ2U7CiAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzZnVsID0gdHJ1ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3IgPT4gewogICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9CiAgICAgICAgICAgICAgICAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB8fAogICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZSB8fAogICAgICAgICAgICAgICAgZXJyb3IudG9TdHJpbmcoKTsKICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3NmdWwgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-app id=\"inspire\">\n    <v-content>\n      <v-container class=\"fill-height\" fluid>\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"12\" md=\"6\">\n            <v-card class=\"elevation-12\">\n              <v-toolbar color=\"primary\" dark flat>\n                <v-toolbar-title>Register</v-toolbar-title>\n              </v-toolbar>\n              <v-card-text>\n                <v-form name=\"form\" @submit.prevent=\"handleRegister\">\n                  <v-text-field\n                  v-model=\"user.username\"\n                  :rules=\"[rules.required, rules.min3]\"\n                  type=\"text\"\n                  label=\"Username\"\n                  prepend-icon=\"mdi-account\"\n                  counter\n                  maxlength=\"20\"\n                  v-validate=\"'required|min:3|max:20'\"\n                  required\n                  />\n\n                  <v-text-field\n                  v-model=\"user.email\"\n                  :rules=\"[rules.validEmail]\"\n                  type=\"email\"\n                  label=\"Email\"\n                  prepend-icon=\"mdi-email\"\n                  v-validate=\"'required|email|max:50'\"\n                  maxlength=\"50\"\n                  required\n                  />\n\n                  <v-text-field\n                  v-model=\"user.password\"\n                  :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n                  :rules=\"[rules.required, rules.min6]\"\n                  :type=\"show ? 'text' : 'password'\"\n                  @click:append=\"show = !show\"\n                  label=\"Password\"\n                  prepend-icon=\"mdi-lock\"\n                  counter\n                  maxlength=\"40\"\n                  v-validate=\"'required|min:6|max:40'\"\n                  required\n                  />\n                  <v-text-field\n                  v-model=\"confirmPassword\"\n                  :rules=\"[rules.confirmPassword]\"\n                  :type=\"show ? 'text' : 'password'\"\n                  @click:append=\"show = !show\"\n                  label=\"Confirm Password\"\n                  prepend-icon=\"mdi-lock\"\n                  v-validate=\"'required|confirmed:password'\"\n                  required\n                  />\n\n                  <v-alert v-if=\"message\" :type=\"successful ? 'success' : 'error'\">{{message}}</v-alert>\n\n                  <v-layout align-end justify-end class=\"my-2\">\n                    <v-btn\n                    type=\"submit\"\n                    color=\"primary\"\n                    :disabled=\"loading\"\n                    :loading=\"loading\"\n                    >Sign up</v-btn>\n                  </v-layout>\n                </v-form>\n              </v-card-text>\n            </v-card>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport User from \"../models/user\";\n\nexport default {\n  name: \"Register\",\n  data() {\n    return {\n      user: new User(\"\", \"\", \"\"),\n      submitted: false,\n      successful: false,\n      loading: false,\n      message: \"\",\n      show: false,\n      rules: {\n        required: v => !!v || 'This field is required',\n        min3: v => v.length >= 3 || 'Min 3 characters',\n        min6: v => v.length >= 6 || 'Min 6 characters',\n        validEmail: v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\n        confirmPassword: v => v == this.user.password || 'Passwords must match'\n      }\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    }\n  },\n  mounted() {\n    if (this.loggedIn) {\n      this.$router.push(\"/profile\");\n    }\n  },\n  methods: {\n    handleRegister() {\n      this.message = \"\";\n      this.submitted = true;\n      this.$validator.validate().then(isValid => {\n        if (isValid) {\n          this.$store.dispatch(\"auth/register\", this.user).then(\n            data => {\n              this.message = data.message;\n              this.successful = true;\n            },\n            error => {\n              this.message =\n                (error.response && error.response.data.message) ||\n                error.message ||\n                error.toString();\n              this.successful = false;\n            }\n          );\n        }\n      });\n    }\n  }\n};\n</script>"]}]}