{"remainingRequest":"D:\\Git\\pmdb-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\Git\\pmdb-vue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Git\\pmdb-vue\\src\\store\\modules\\movies.js","dependencies":[{"path":"D:\\Git\\pmdb-vue\\src\\store\\modules\\movies.js","mtime":1591169002438},{"path":"D:\\Git\\pmdb-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Git\\pmdb-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Git\\pmdb-vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTDsKdmFyIHN0YXRlID0gewogIG1vdmllczogW10sCiAgbW92aWU6IHt9Cn07CnZhciBnZXR0ZXJzID0gewogIGdldE1vdmllczogZnVuY3Rpb24gZ2V0TW92aWVzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUubW92aWVzOwogIH0sCiAgZ2V0TW92aWU6IGZ1bmN0aW9uIGdldE1vdmllKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUubW92aWU7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBmZXRjaE1vdmllczogZnVuY3Rpb24gZmV0Y2hNb3ZpZXMoY29udGV4dCkgewogICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIGNvbnRleHQuZ2V0dGVycy5nZXRUb2tlbjsKICAgIGF4aW9zLmdldCgnL21vdmllcycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRNb3ZpZXMnLCByZXNwb25zZS5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB9KTsKICB9LAogIGZldGNoTW92aWU6IGZ1bmN0aW9uIGZldGNoTW92aWUoY29udGV4dCwgaWQpIHsKICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyBjb250ZXh0LmdldHRlcnMuZ2V0VG9rZW47CiAgICByZXR1cm4gYXhpb3MuZ2V0KCcvbW92aWVzLycgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29udGV4dC5jb21taXQoJ3NldE1vdmllJywgcmVzcG9uc2UuZGF0YSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIHNldE1vdmllczogZnVuY3Rpb24gc2V0TW92aWVzKHN0YXRlLCBtb3ZpZXMpIHsKICAgIHN0YXRlLm1vdmllcyA9IG1vdmllczsKICB9LAogIHNldE1vdmllOiBmdW5jdGlvbiBzZXRNb3ZpZShzdGF0ZSwgbW92aWUpIHsKICAgIHN0YXRlLm1vdmllID0gbW92aWU7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["D:/Git/pmdb-vue/src/store/modules/movies.js"],"names":["axios","defaults","baseURL","process","env","VUE_APP_API_URL","state","movies","movie","getters","getMovies","getMovie","actions","fetchMovies","context","headers","common","getToken","get","then","response","commit","data","catch","error","console","log","fetchMovie","id","mutations","setMovies","setMovie"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyBC,OAAO,CAACC,GAAR,CAAYC,eAArC;AAEA,IAAMC,KAAK,GAAG;AACVC,EAAAA,MAAM,EAAE,EADE;AAEVC,EAAAA,KAAK,EAAE;AAFG,CAAd;AAKA,IAAMC,OAAO,GAAG;AACZC,EAAAA,SAAS,EAAE,mBAAAJ,KAAK;AAAA,WAAIA,KAAK,CAACC,MAAV;AAAA,GADJ;AAEZI,EAAAA,QAAQ,EAAE,kBAAAL,KAAK;AAAA,WAAIA,KAAK,CAACE,KAAV;AAAA;AAFH,CAAhB;AAKA,IAAMI,OAAO,GAAG;AACZC,EAAAA,WADY,uBACAC,OADA,EACS;AACjBd,IAAAA,KAAK,CAACC,QAAN,CAAec,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYF,OAAO,CAACL,OAAR,CAAgBQ,QAA7E;AACAjB,IAAAA,KAAK,CAACkB,GAAN,CAAU,SAAV,EACKC,IADL,CACU,UAAAC,QAAQ,EAAI;AACdN,MAAAA,OAAO,CAACO,MAAR,CAAe,WAAf,EAA4BD,QAAQ,CAACE,IAArC;AACH,KAHL,EAIKC,KAJL,CAIW,UAAAC,KAAK,EAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KANL;AAOH,GAVW;AAWZG,EAAAA,UAXY,sBAWDb,OAXC,EAWQc,EAXR,EAWY;AACpB5B,IAAAA,KAAK,CAACC,QAAN,CAAec,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYF,OAAO,CAACL,OAAR,CAAgBQ,QAA7E;AACA,WAAOjB,KAAK,CAACkB,GAAN,CAAU,aAAaU,EAAvB,EACFT,IADE,CACG,UAAAC,QAAQ,EAAI;AACdN,MAAAA,OAAO,CAACO,MAAR,CAAe,UAAf,EAA2BD,QAAQ,CAACE,IAApC;AACH,KAHE,EAIFC,KAJE,CAII,UAAAC,KAAK,EAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KANE,CAAP;AAOH;AApBW,CAAhB;AAuBA,IAAMK,SAAS,GAAG;AACdC,EAAAA,SADc,qBACJxB,KADI,EACGC,MADH,EACW;AACrBD,IAAAA,KAAK,CAACC,MAAN,GAAeA,MAAf;AACH,GAHa;AAIdwB,EAAAA,QAJc,oBAILzB,KAJK,EAIEE,KAJF,EAIS;AACnBF,IAAAA,KAAK,CAACE,KAAN,GAAcA,KAAd;AACH;AANa,CAAlB;AASA,eAAe;AACXF,EAAAA,KAAK,EAALA,KADW;AAEXG,EAAAA,OAAO,EAAPA,OAFW;AAGXG,EAAAA,OAAO,EAAPA,OAHW;AAIXiB,EAAAA,SAAS,EAATA;AAJW,CAAf","sourcesContent":["import axios from 'axios'\r\n\r\naxios.defaults.baseURL = process.env.VUE_APP_API_URL\r\n\r\nconst state = {\r\n    movies: [],\r\n    movie: {},\r\n};\r\n\r\nconst getters = {\r\n    getMovies: state => state.movies,\r\n    getMovie: state => state.movie\r\n};\r\n\r\nconst actions = {\r\n    fetchMovies(context) {\r\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.getters.getToken\r\n        axios.get('/movies')\r\n            .then(response => {\r\n                context.commit('setMovies', response.data)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    },\r\n    fetchMovie(context, id) {\r\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.getters.getToken\r\n        return axios.get('/movies/' + id)\r\n            .then(response => {\r\n                context.commit('setMovie', response.data)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n};\r\n\r\nconst mutations = {\r\n    setMovies(state, movies) {\r\n        state.movies = movies\r\n    },\r\n    setMovie(state, movie) {\r\n        state.movie = movie\r\n    }\r\n};\r\n\r\nexport default {\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}"]}]}