{"remainingRequest":"D:\\Git\\pmdb-vue\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Git\\pmdb-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\Git\\pmdb-vue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Git\\pmdb-vue\\src\\store\\modules\\requests.js","dependencies":[{"path":"D:\\Git\\pmdb-vue\\src\\store\\modules\\requests.js","mtime":1591209531640},{"path":"D:\\Git\\pmdb-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Git\\pmdb-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Git\\pmdb-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Git\\pmdb-vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTDsKdmFyIHN0YXRlID0gewogIGV4dGVybmFsTW92aWVzOiBbXQp9Owp2YXIgZ2V0dGVycyA9IHsKICBnZXRFeHRlcm5hbE1vdmllczogZnVuY3Rpb24gZ2V0RXh0ZXJuYWxNb3ZpZXMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5leHRlcm5hbE1vdmllczsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGZldGNoRXh0ZXJuYWxNb3ZpZXM6IGZ1bmN0aW9uIGZldGNoRXh0ZXJuYWxNb3ZpZXMoY29udGV4dCwgcXVlcnkpIHsKICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyBjb250ZXh0LmdldHRlcnMuZ2V0VG9rZW47CiAgICBheGlvcy5nZXQoJy9yZXF1ZXN0L21vdmllJywgewogICAgICBwYXJhbXM6IHsKICAgICAgICAncXVlcnknOiBxdWVyeQogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb250ZXh0LmNvbW1pdCgnc2V0RXh0ZXJuYWxNb3ZpZXMnLCByZXNwb25zZS5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB9KTsKICB9LAogIGZldGNoRXh0ZXJuYWxQb3B1bGFyTW92aWVzOiBmdW5jdGlvbiBmZXRjaEV4dGVybmFsUG9wdWxhck1vdmllcyhjb250ZXh0KSB7CiAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgY29udGV4dC5nZXR0ZXJzLmdldFRva2VuOwogICAgYXhpb3MuZ2V0KCcvcmVxdWVzdC9tb3ZpZS9wb3B1bGFyJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29udGV4dC5jb21taXQoJ3NldEV4dGVybmFsTW92aWVzJywgcmVzcG9uc2UuZGF0YSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfSwKICByZXF1ZXN0TW92aWU6IGZ1bmN0aW9uIHJlcXVlc3RNb3ZpZShjb250ZXh0LCBtb2RlbCkgewogICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIGNvbnRleHQuZ2V0dGVycy5nZXRUb2tlbjsKICAgIHJldHVybiBheGlvcy5wb3N0KCcvcmVxdWVzdC9tb3ZpZS9wb3N0JywgewogICAgICB0aGVNb3ZpZURiSWQ6IHBhcnNlSW50KG1vZGVsLnRtZGJpZCksCiAgICAgIGxhbmd1YWdlQ29kZTogbW9kZWwubGFuZ3VhZ2UKICAgIH0pOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRFeHRlcm5hbE1vdmllczogZnVuY3Rpb24gc2V0RXh0ZXJuYWxNb3ZpZXMoc3RhdGUsIGV4dGVybmFsTW92aWVzKSB7CiAgICBzdGF0ZS5leHRlcm5hbE1vdmllcyA9IGV4dGVybmFsTW92aWVzOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["D:/Git/pmdb-vue/src/store/modules/requests.js"],"names":["axios","defaults","baseURL","process","env","VUE_APP_API_URL","state","externalMovies","getters","getExternalMovies","actions","fetchExternalMovies","context","query","headers","common","getToken","get","params","then","response","commit","data","catch","error","console","log","fetchExternalPopularMovies","requestMovie","model","post","theMovieDbId","parseInt","tmdbid","languageCode","language","mutations","setExternalMovies"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyBC,OAAO,CAACC,GAAR,CAAYC,eAArC;AAEA,IAAMC,KAAK,GAAG;AACVC,EAAAA,cAAc,EAAE;AADN,CAAd;AAIA,IAAMC,OAAO,GAAG;AACZC,EAAAA,iBAAiB,EAAE,2BAAAH,KAAK;AAAA,WAAIA,KAAK,CAACC,cAAV;AAAA;AADZ,CAAhB;AAIA,IAAMG,OAAO,GAAG;AACZC,EAAAA,mBADY,+BACQC,OADR,EACiBC,KADjB,EACwB;AAChCb,IAAAA,KAAK,CAACC,QAAN,CAAea,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYH,OAAO,CAACJ,OAAR,CAAgBQ,QAA7E;AACAhB,IAAAA,KAAK,CAACiB,GAAN,CAAU,gBAAV,EAA4B;AACxBC,MAAAA,MAAM,EAAE;AACJ,iBAAUL;AADN;AADgB,KAA5B,EAKKM,IALL,CAKU,UAAAC,QAAQ,EAAI;AACdR,MAAAA,OAAO,CAACS,MAAR,CAAe,mBAAf,EAAoCD,QAAQ,CAACE,IAA7C;AACH,KAPL,EAQKC,KARL,CAQW,UAAAC,KAAK,EAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAVL;AAYH,GAfW;AAgBZG,EAAAA,0BAhBY,sCAgBef,OAhBf,EAgBwB;AAChCZ,IAAAA,KAAK,CAACC,QAAN,CAAea,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYH,OAAO,CAACJ,OAAR,CAAgBQ,QAA7E;AACAhB,IAAAA,KAAK,CAACiB,GAAN,CAAU,wBAAV,EACKE,IADL,CACU,UAAAC,QAAQ,EAAI;AACdR,MAAAA,OAAO,CAACS,MAAR,CAAe,mBAAf,EAAoCD,QAAQ,CAACE,IAA7C;AACH,KAHL,EAIKC,KAJL,CAIW,UAAAC,KAAK,EAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KANL;AAQH,GA1BW;AA2BZI,EAAAA,YA3BY,wBA2BChB,OA3BD,EA2BUiB,KA3BV,EA2BiB;AACzB7B,IAAAA,KAAK,CAACC,QAAN,CAAea,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYH,OAAO,CAACJ,OAAR,CAAgBQ,QAA7E;AACA,WAAOhB,KAAK,CAAC8B,IAAN,CAAW,qBAAX,EAAkC;AACrCC,MAAAA,YAAY,EAAGC,QAAQ,CAACH,KAAK,CAACI,MAAP,CADc;AAErCC,MAAAA,YAAY,EAAEL,KAAK,CAACM;AAFiB,KAAlC,CAAP;AAIH;AAjCW,CAAhB;AAoCA,IAAMC,SAAS,GAAG;AACdC,EAAAA,iBADc,6BACI/B,KADJ,EACWC,cADX,EAC2B;AACrCD,IAAAA,KAAK,CAACC,cAAN,GAAuBA,cAAvB;AACH;AAHa,CAAlB;AAMA,eAAe;AACXD,EAAAA,KAAK,EAALA,KADW;AAEXE,EAAAA,OAAO,EAAPA,OAFW;AAGXE,EAAAA,OAAO,EAAPA,OAHW;AAIX0B,EAAAA,SAAS,EAATA;AAJW,CAAf","sourcesContent":["import axios from 'axios'\r\n\r\naxios.defaults.baseURL = process.env.VUE_APP_API_URL\r\n\r\nconst state = {\r\n    externalMovies: [],\r\n};\r\n\r\nconst getters = {\r\n    getExternalMovies: state => state.externalMovies\r\n};\r\n\r\nconst actions = {\r\n    fetchExternalMovies(context, query) {\r\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.getters.getToken\r\n        axios.get('/request/movie', {\r\n            params: {\r\n                'query' : query\r\n            }\r\n        })\r\n            .then(response => {\r\n                context.commit('setExternalMovies', response.data)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n\r\n    },\r\n    fetchExternalPopularMovies(context) {\r\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.getters.getToken\r\n        axios.get('/request/movie/popular')\r\n            .then(response => {\r\n                context.commit('setExternalMovies', response.data)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n\r\n    },\r\n    requestMovie(context, model) {\r\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.getters.getToken\r\n        return axios.post('/request/movie/post', {\r\n            theMovieDbId: (parseInt(model.tmdbid)),\r\n            languageCode: model.language,\r\n        })\r\n    }\r\n};\r\n\r\nconst mutations = {\r\n    setExternalMovies(state, externalMovies) {\r\n        state.externalMovies = externalMovies\r\n    },\r\n};\r\n\r\nexport default {\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}"]}]}